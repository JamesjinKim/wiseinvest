<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>성향 리포트 - WiseInvest</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;600;700&family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="css/style.css">
</head>
<body class="bg-gray-50">
    <!-- Sidebar -->
    <aside class="sidebar" id="sidebar">
        <div class="mb-8">
            <h1 class="text-2xl font-bold">
                <i class="fas fa-chart-line mr-2"></i>
                WiseInvest
            </h1>
            <p class="text-sm text-gray-300 mt-1">AI 투자 분석 플랫폼</p>
        </div>
        
        <nav class="space-y-2">
            <a href="dashboard.html" class="flex items-center p-3 rounded-lg hover:bg-white/10 text-gray-300 hover:text-white transition">
                <i class="fas fa-home w-5 mr-3"></i>
                대시보드
            </a>
            <a href="stocks.html" class="flex items-center p-3 rounded-lg hover:bg-white/10 text-gray-300 hover:text-white transition">
                <i class="fas fa-search w-5 mr-3"></i>
                종목 분석
            </a>
            <a href="records.html" class="flex items-center p-3 rounded-lg hover:bg-white/10 text-gray-300 hover:text-white transition">
                <i class="fas fa-list w-5 mr-3"></i>
                투자 기록
            </a>
            <a href="profile.html" class="flex items-center p-3 rounded-lg bg-white/10 text-white font-medium">
                <i class="fas fa-chart-bar w-5 mr-3"></i>
                성향 리포트
            </a>
            <a href="survey.html" class="flex items-center p-3 rounded-lg hover:bg-white/10 text-gray-300 hover:text-white transition">
                <i class="fas fa-clipboard-list w-5 mr-3"></i>
                투자 설문
            </a>
        </nav>
        
        <div class="mt-auto pt-8 border-t border-white/10">
            <div class="flex items-center space-x-3">
                <div class="w-10 h-10 rounded-full bg-blue-500 flex items-center justify-center">
                    <i class="fas fa-user text-white"></i>
                </div>
                <div>
                    <p class="font-medium text-white">투자자님</p>
                    <p class="text-xs text-gray-400">investor@wise.com</p>
                </div>
            </div>
            <a href="login.html" class="mt-4 flex items-center text-sm text-gray-400 hover:text-white transition">
                <i class="fas fa-sign-out-alt mr-2"></i>
                로그아웃
            </a>
        </div>
    </aside>

    <!-- Mobile Header -->
    <header class="mobile-header">
        <button id="menuToggle" class="text-gray-700">
            <i class="fas fa-bars text-xl"></i>
        </button>
        <h1 class="text-lg font-bold text-gray-900">성향 리포트</h1>
        <button class="text-gray-700">
            <i class="fas fa-bell text-xl"></i>
        </button>
    </header>

    <!-- Main Content -->
    <main class="main-content">
        <div class="container">
            <!-- Header -->
            <div class="mb-8 fade-in">
                <div class="flex items-center justify-between">
                    <div>
                        <h1 class="text-3xl font-bold text-gray-900 mb-2">나의 투자 성향 리포트</h1>
                        <p class="text-gray-600">설문 결과와 실제 투자 행동을 비교 분석합니다</p>
                    </div>
                    <button class="btn btn-outline">
                        <i class="fas fa-print mr-2"></i>
                        리포트 인쇄
                    </button>
                </div>
            </div>

            <!-- Score Comparison -->
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8">
                <!-- Survey Score -->
                <div class="card slide-up" style="animation-delay: 0.1s">
                    <div class="flex items-center justify-between mb-4">
                        <div>
                            <h3 class="text-lg font-semibold text-gray-900">설문 기반 점수</h3>
                            <p class="text-sm text-gray-600">본인이 생각하는 투자 성향</p>
                        </div>
                        <i class="fas fa-clipboard-list text-3xl text-blue-600"></i>
                    </div>
                    <div class="text-center py-6">
                        <div class="text-6xl font-bold text-blue-600 mb-2">72</div>
                        <div class="text-xl font-semibold text-gray-700 mb-4">보수적 투자자</div>
                        <div class="flex items-center justify-center space-x-2">
                            <div class="w-3 h-3 bg-blue-600 rounded-full"></div>
                            <div class="text-sm text-gray-600">리스크 회피 성향</div>
                        </div>
                    </div>
                </div>

                <!-- Actual Score -->
                <div class="card slide-up" style="animation-delay: 0.2s">
                    <div class="flex items-center justify-between mb-4">
                        <div>
                            <h3 class="text-lg font-semibold text-gray-900">실제 행동 점수</h3>
                            <p class="text-sm text-gray-600">투자 기록에서 계산된 성향</p>
                        </div>
                        <i class="fas fa-chart-line text-3xl text-orange-600"></i>
                    </div>
                    <div class="text-center py-6">
                        <div class="text-6xl font-bold text-orange-600 mb-2">58</div>
                        <div class="text-xl font-semibold text-gray-700 mb-4">중립적 투자자</div>
                        <div class="flex items-center justify-center space-x-2">
                            <div class="w-3 h-3 bg-orange-600 rounded-full"></div>
                            <div class="text-sm text-gray-600">균형잡힌 성향</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Gap Analysis -->
            <div class="card mb-8 slide-up" style="animation-delay: 0.3s">
                <div class="flex items-start space-x-4 p-4 bg-yellow-50 rounded-lg">
                    <i class="fas fa-exclamation-triangle text-yellow-600 text-2xl mt-1"></i>
                    <div>
                        <h3 class="font-semibold text-yellow-900 mb-2">인지 부조화 감지</h3>
                        <p class="text-sm text-yellow-800 mb-3">
                            설문에서는 보수적이라고 답했지만, 실제 투자 행동은 더 공격적입니다. 
                            <span class="font-bold">14점 차이</span>가 발견되었습니다.
                        </p>
                        <div class="flex space-x-4">
                            <div class="text-sm">
                                <span class="text-yellow-700">말한 것:</span>
                                <span class="font-bold text-yellow-900">보수적 (72점)</span>
                            </div>
                            <div class="text-sm">
                                <span class="text-yellow-700">행동:</span>
                                <span class="font-bold text-yellow-900">중립적 (58점)</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Radar Chart -->
            <div class="card mb-8 slide-up" style="animation-delay: 0.4s">
                <h3 class="text-lg font-bold text-gray-900 mb-6">투자 성향 비교 분석</h3>
                <div class="chart-container" style="height: 400px;">
                    <canvas id="radarChart"></canvas>
                </div>
                <div class="mt-6 grid grid-cols-2 md:grid-cols-5 gap-4">
                    <div class="text-center">
                        <div class="text-sm text-gray-600 mb-1">리스크 감수</div>
                        <div class="text-lg font-bold text-gray-900">중간</div>
                    </div>
                    <div class="text-center">
                        <div class="text-sm text-gray-600 mb-1">보유 기간</div>
                        <div class="text-lg font-bold text-gray-900">단기</div>
                    </div>
                    <div class="text-center">
                        <div class="text-sm text-gray-600 mb-1">분산 투자</div>
                        <div class="text-lg font-bold text-gray-900">집중</div>
                    </div>
                    <div class="text-center">
                        <div class="text-sm text-gray-600 mb-1">의사결정</div>
                        <div class="text-lg font-bold text-gray-900">빠름</div>
                    </div>
                    <div class="text-center">
                        <div class="text-sm text-gray-600 mb-1">정보 활용</div>
                        <div class="text-lg font-bold text-gray-900">감정적</div>
                    </div>
                </div>
            </div>

            <!-- Biases Detected -->
            <div class="mb-8 slide-up" style="animation-delay: 0.5s">
                <h2 class="text-2xl font-bold text-gray-900 mb-6">
                    <i class="fas fa-brain mr-2 text-purple-600"></i>
                    발견된 투자 편향
                </h2>
                
                <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                    <!-- Bias 1 -->
                    <div class="card border-l-4 border-red-500">
                        <div class="flex items-start space-x-3 mb-4">
                            <i class="fas fa-exclamation-circle text-red-600 text-2xl"></i>
                            <div>
                                <h3 class="font-bold text-gray-900 mb-1">과잉 확신 (Overconfidence)</h3>
                                <span class="text-xs px-2 py-1 bg-red-100 text-red-800 rounded">심각</span>
                            </div>
                        </div>
                        <p class="text-sm text-gray-700 mb-3">
                            높은 별점(4-5점)을 준 종목 중 <span class="font-bold text-red-600">3건에서 손실</span>이 발생했습니다.
                        </p>
                        <div class="bg-red-50 p-3 rounded-lg">
                            <p class="text-xs text-red-800">
                                <i class="fas fa-lightbulb mr-1"></i>
                                자신감이 과한 투자는 위험합니다. 객관적 지표를 먼저 확인하세요.
                            </p>
                        </div>
                    </div>

                    <!-- Bias 2 -->
                    <div class="card border-l-4 border-yellow-500">
                        <div class="flex items-start space-x-3 mb-4">
                            <i class="fas fa-hand-paper text-yellow-600 text-2xl"></i>
                            <div>
                                <h3 class="font-bold text-gray-900 mb-1">손실 회피 편향</h3>
                                <span class="text-xs px-2 py-1 bg-yellow-100 text-yellow-800 rounded">보통</span>
                            </div>
                        </div>
                        <p class="text-sm text-gray-700 mb-3">
                            손실 종목을 <span class="font-bold text-yellow-600">평균 52일</span> 보유하지만, 수익 종목은 18일 만에 매도합니다.
                        </p>
                        <div class="bg-yellow-50 p-3 rounded-lg">
                            <p class="text-xs text-yellow-800">
                                <i class="fas fa-lightbulb mr-1"></i>
                                손실을 인정하고 빠르게 정리하는 습관이 필요합니다.
                            </p>
                        </div>
                    </div>

                    <!-- Bias 3 -->
                    <div class="card border-l-4 border-blue-500">
                        <div class="flex items-start space-x-3 mb-4">
                            <i class="fas fa-users text-blue-600 text-2xl"></i>
                            <div>
                                <h3 class="font-bold text-gray-900 mb-1">뇌동 매매 (Herding)</h3>
                                <span class="text-xs px-2 py-1 bg-blue-100 text-blue-800 rounded">경미</span>
                            </div>
                        </div>
                        <p class="text-sm text-gray-700 mb-3">
                            최근 3개월간 <span class="font-bold text-blue-600">#호재뉴스</span> 태그 투자의 승률이 40%에 그쳤습니다.
                        </p>
                        <div class="bg-blue-50 p-3 rounded-lg">
                            <p class="text-xs text-blue-800">
                                <i class="fas fa-lightbulb mr-1"></i>
                                뉴스 호재보다는 재무 지표를 우선 검토하세요.
                            </p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- AI Recommendations -->
            <div class="card slide-up" style="animation-delay: 0.6s">
                <div class="flex items-center space-x-3 mb-6">
                    <div class="w-12 h-12 bg-gradient-to-br from-purple-500 to-indigo-600 rounded-full flex items-center justify-center">
                        <i class="fas fa-robot text-white text-xl"></i>
                    </div>
                    <div>
                        <h2 class="text-2xl font-bold text-gray-900">AI 맞춤형 투자 조언</h2>
                        <p class="text-sm text-gray-600">당신의 투자 패턴 분석 기반</p>
                    </div>
                </div>

                <div class="space-y-4">
                    <div class="flex items-start space-x-4 p-4 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg">
                        <div class="w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center flex-shrink-0">
                            <span class="text-white font-bold">1</span>
                        </div>
                        <div>
                            <h3 class="font-semibold text-gray-900 mb-2">별점 3점 이하 종목은 재검토하세요</h3>
                            <p class="text-sm text-gray-700">
                                당신이 별점 3점 이하를 준 종목들의 승률은 85%입니다. 
                                반면 5점을 준 종목은 33%에 불과합니다. 
                                <span class="font-bold text-blue-600">직관을 신뢰하되, 과신하지 마세요.</span>
                            </p>
                        </div>
                    </div>

                    <div class="flex items-start space-x-4 p-4 bg-gradient-to-r from-green-50 to-emerald-50 rounded-lg">
                        <div class="w-8 h-8 bg-green-600 rounded-full flex items-center justify-center flex-shrink-0">
                            <span class="text-white font-bold">2</span>
                        </div>
                        <div>
                            <h3 class="font-semibold text-gray-900 mb-2">버핏 점수 60점 미만은 피하세요</h3>
                            <p class="text-sm text-gray-700">
                                전문가 분석에서 60점 미만을 받은 종목에 투자한 경우, 
                                평균 손실률이 -8.2%입니다. 
                                <span class="font-bold text-green-600">객관적 지표를 우선하세요.</span>
                            </p>
                        </div>
                    </div>

                    <div class="flex items-start space-x-4 p-4 bg-gradient-to-r from-purple-50 to-pink-50 rounded-lg">
                        <div class="w-8 h-8 bg-purple-600 rounded-full flex items-center justify-center flex-shrink-0">
                            <span class="text-white font-bold">3</span>
                        </div>
                        <div>
                            <h3 class="font-semibold text-gray-900 mb-2">손실 종목 보유 기간을 줄이세요</h3>
                            <p class="text-sm text-gray-700">
                                손실 종목을 52일 평균 보유하고 있습니다. 
                                빠른 손절은 더 큰 수익 기회를 찾는 시간을 확보합니다. 
                                <span class="font-bold text-purple-600">-5% 손실 시 자동 매도 원칙을 세우세요.</span>
                            </p>
                        </div>
                    </div>

                    <div class="flex items-start space-x-4 p-4 bg-gradient-to-r from-orange-50 to-red-50 rounded-lg">
                        <div class="w-8 h-8 bg-orange-600 rounded-full flex items-center justify-center flex-shrink-0">
                            <span class="text-white font-bold">4</span>
                        </div>
                        <div>
                            <h3 class="font-semibold text-gray-900 mb-2">투자 전 24시간 대기하세요</h3>
                            <p class="text-sm text-gray-700">
                                감정적 투자(#호재뉴스, #지인추천)의 승률이 낮습니다. 
                                투자 결정 후 24시간 대기하며 재검토하는 습관을 들이세요. 
                                <span class="font-bold text-orange-600">충동적 투자를 막는 가장 좋은 방법입니다.</span>
                            </p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Action Button -->
            <div class="mt-8 text-center slide-up" style="animation-delay: 0.7s">
                <a href="survey.html" class="btn btn-primary inline-flex items-center text-lg px-8 py-4">
                    <i class="fas fa-sync-alt mr-3"></i>
                    설문 다시 진행하기
                </a>
                <p class="text-sm text-gray-600 mt-4">최근 투자 패턴이 변경되었다면 설문을 다시 진행해보세요</p>
            </div>
        </div>
    </main>

    <!-- Mobile Bottom Navigation -->
    <nav class="mobile-nav">
        <a href="dashboard.html" class="flex-1 flex flex-col items-center justify-center text-gray-400">
            <i class="fas fa-home text-xl mb-1"></i>
            <span class="text-xs">홈</span>
        </a>
        <a href="stocks.html" class="flex-1 flex flex-col items-center justify-center text-gray-400">
            <i class="fas fa-search text-xl mb-1"></i>
            <span class="text-xs">분석</span>
        </a>
        <a href="records.html" class="flex-1 flex flex-col items-center justify-center text-gray-400">
            <i class="fas fa-list text-xl mb-1"></i>
            <span class="text-xs">기록</span>
        </a>
        <a href="profile.html" class="flex-1 flex flex-col items-center justify-center text-blue-600">
            <i class="fas fa-user text-xl mb-1"></i>
            <span class="text-xs font-medium">프로필</span>
        </a>
    </nav>

    <script src="js/main.js"></script>
    <script>
        // Radar Chart
        const ctx = document.getElementById('radarChart').getContext('2d');
        new Chart(ctx, {
            type: 'radar',
            data: {
                labels: ['리스크 감수', '보유 기간', '분산 투자', '의사결정 속도', '정보 활용'],
                datasets: [
                    {
                        label: '설문 결과',
                        data: [3, 4, 4, 2, 3],
                        fill: true,
                        backgroundColor: 'rgba(37, 99, 235, 0.2)',
                        borderColor: 'rgb(37, 99, 235)',
                        pointBackgroundColor: 'rgb(37, 99, 235)',
                        pointBorderColor: '#fff',
                        pointHoverBackgroundColor: '#fff',
                        pointHoverBorderColor: 'rgb(37, 99, 235)'
                    },
                    {
                        label: '실제 행동',
                        data: [4, 2, 2, 4, 4],
                        fill: true,
                        backgroundColor: 'rgba(249, 115, 22, 0.2)',
                        borderColor: 'rgb(249, 115, 22)',
                        pointBackgroundColor: 'rgb(249, 115, 22)',
                        pointBorderColor: '#fff',
                        pointHoverBackgroundColor: '#fff',
                        pointHoverBorderColor: 'rgb(249, 115, 22)'
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    r: {
                        angleLines: {
                            display: true
                        },
                        suggestedMin: 0,
                        suggestedMax: 5,
                        ticks: {
                            stepSize: 1
                        }
                    }
                },
                plugins: {
                    legend: {
                        position: 'bottom',
                        labels: {
                            font: {
                                size: 14,
                                family: "'Noto Sans KR', sans-serif"
                            }
                        }
                    }
                }
            }
        });
    </script>
</body>
</html>