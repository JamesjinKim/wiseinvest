# WiseInvest MVP ì•„í‚¤í…ì²˜

## 1. MVP ë²”ìœ„ ìš”ì•½

| í•­ëª© | MVP ë²”ìœ„ |
|------|----------|
| ì‹œì¥ | í•œêµ­ ì£¼ì‹ë§Œ |
| ë¶„ì„ ëª¨ë¸ | ì›ŒëŸ° ë²„í• ìŠ¤íƒ€ì¼ 1ê°œ |
| ë°ì´í„° ì…ë ¥ | ìˆ˜ë™ ì…ë ¥ + CSV ì—…ë¡œë“œ |
| í•µì‹¬ í™”ë©´ | 4ê°œ (ëŒ€ì‹œë³´ë“œ, ì¢…ëª©ë¶„ì„, íˆ¬ìê¸°ë¡, ì„±í–¥ë¦¬í¬íŠ¸) |

---

## 2. ì‹œìŠ¤í…œ êµ¬ì„±

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     ì›¹ ë¸Œë¼ìš°ì €                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  Rails 8 Application                  â”‚
â”‚                                                       â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚   Hotwire   â”‚  â”‚  Tailwind   â”‚  â”‚  Stimulus   â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                       â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚   â”‚              Controllers                     â”‚    â”‚
â”‚   â”‚  Dashboard â”‚ Stocks â”‚ Records â”‚ Profiles    â”‚    â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                       â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚   â”‚              Services                        â”‚    â”‚
â”‚   â”‚  BuffettAnalyzer â”‚ ProfileService â”‚ CsvParserâ”‚    â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                       â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚   â”‚            Solid Queue (Jobs)                â”‚    â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â–¼                         â–¼
       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚ PostgreSQL â”‚           â”‚  ì™¸ë¶€ API   â”‚
       â”‚            â”‚           â”‚ (KIS/DART) â”‚
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 3. ë””ë ‰í† ë¦¬ êµ¬ì¡° (MVP)

```
wiseinvest/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ controllers/
â”‚   â”‚   â”œâ”€â”€ application_controller.rb
â”‚   â”‚   â”œâ”€â”€ sessions_controller.rb
â”‚   â”‚   â”œâ”€â”€ registrations_controller.rb
â”‚   â”‚   â”œâ”€â”€ dashboard_controller.rb
â”‚   â”‚   â”œâ”€â”€ stocks_controller.rb
â”‚   â”‚   â”œâ”€â”€ investment_records_controller.rb
â”‚   â”‚   â””â”€â”€ profiles_controller.rb
â”‚   â”‚
â”‚   â”œâ”€â”€ models/
â”‚   â”‚   â”œâ”€â”€ user.rb
â”‚   â”‚   â”œâ”€â”€ stock.rb
â”‚   â”‚   â”œâ”€â”€ stock_metric.rb
â”‚   â”‚   â”œâ”€â”€ investment_record.rb
â”‚   â”‚   â”œâ”€â”€ investment_profile.rb
â”‚   â”‚   â”œâ”€â”€ survey_response.rb
â”‚   â”‚   â””â”€â”€ analysis_report.rb
â”‚   â”‚
â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”œâ”€â”€ buffett_analyzer.rb
â”‚   â”‚   â”œâ”€â”€ profile_calculator.rb
â”‚   â”‚   â””â”€â”€ csv_import_service.rb
â”‚   â”‚
â”‚   â”œâ”€â”€ clients/
â”‚   â”‚   â””â”€â”€ kis_client.rb
â”‚   â”‚
â”‚   â”œâ”€â”€ jobs/
â”‚   â”‚   â””â”€â”€ stock_sync_job.rb
â”‚   â”‚
â”‚   â”œâ”€â”€ views/
â”‚   â”‚   â”œâ”€â”€ layouts/
â”‚   â”‚   â”œâ”€â”€ dashboard/
â”‚   â”‚   â”œâ”€â”€ stocks/
â”‚   â”‚   â”œâ”€â”€ investment_records/
â”‚   â”‚   â””â”€â”€ profiles/
â”‚   â”‚
â”‚   â””â”€â”€ javascript/
â”‚       â””â”€â”€ controllers/
â”‚           â”œâ”€â”€ search_controller.js
â”‚           â””â”€â”€ rating_controller.js
â”‚
â”œâ”€â”€ config/
â”‚   â”œâ”€â”€ routes.rb
â”‚   â””â”€â”€ database.yml
â”‚
â””â”€â”€ db/
    â””â”€â”€ migrate/
```

---

## 4. ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ

### 4.1. ERD

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    users    â”‚â”€â”€â”€â”€â–¶â”‚investment_profilesâ”‚    â”‚   stocks    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
      â”‚                                             â”‚
      â”‚             â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚investment_recordsâ”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚                                            â”‚
      â”‚             â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚survey_responses â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚stock_metricsâ”‚
                                            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
                    â”‚analysis_reports â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.2. í…Œì´ë¸” ì •ì˜

```ruby
# users
create_table :users do |t|
  t.string :email, null: false
  t.string :password_digest, null: false
  t.string :name
  t.timestamps
end

# stocks
create_table :stocks do |t|
  t.string :symbol, null: false      # ì¢…ëª©ì½”ë“œ
  t.string :name, null: false        # ì¢…ëª©ëª…
  t.string :sector                   # ì„¹í„°
  t.timestamps
end

# stock_metrics (ì¬ë¬´ì§€í‘œ)
create_table :stock_metrics do |t|
  t.references :stock, null: false
  t.decimal :roe                     # ìê¸°ìë³¸ì´ìµë¥ 
  t.decimal :debt_ratio              # ë¶€ì±„ë¹„ìœ¨
  t.decimal :operating_margin        # ì˜ì—…ì´ìµë¥ 
  t.decimal :per                     # PER
  t.decimal :pbr                     # PBR
  t.integer :profit_growth_years     # ì—°ì† ì´ìµ ì¦ê°€ ì—°ìˆ˜
  t.date :data_date
  t.timestamps
end

# investment_records
create_table :investment_records do |t|
  t.references :user, null: false
  t.references :stock, null: false
  t.string :action, null: false      # buy, sell
  t.integer :quantity, null: false
  t.decimal :price, null: false
  t.datetime :traded_at, null: false
  t.string :reason_tags, array: true, default: []
  t.integer :pre_rating              # 1-5 ë³„ì 
  t.timestamps
end

# investment_profiles
create_table :investment_profiles do |t|
  t.references :user, null: false
  t.integer :survey_score            # ì„¤ë¬¸ ê¸°ë°˜ ì ìˆ˜
  t.integer :actual_score            # ì‹¤ì œ í–‰ë™ ì ìˆ˜
  t.string :risk_tolerance           # conservative, moderate, aggressive
  t.jsonb :biases, default: {}       # ë°œê²¬ëœ í¸í–¥
  t.timestamps
end

# survey_responses
create_table :survey_responses do |t|
  t.references :user, null: false
  t.string :question_key, null: false
  t.integer :answer_value, null: false
  t.timestamps
end

# analysis_reports
create_table :analysis_reports do |t|
  t.references :stock, null: false
  t.integer :total_score, null: false
  t.jsonb :score_breakdown, default: {}
  t.datetime :expires_at
  t.timestamps
end
```

---

## 5. í•µì‹¬ ì„œë¹„ìŠ¤

### 5.1. ë²„í• ë¶„ì„ê¸°

```ruby
# app/services/buffett_analyzer.rb
class BuffettAnalyzer
  CRITERIA = {
    roe:              { weight: 20, min: 15 },
    debt_ratio:       { weight: 15, max: 50 },
    operating_margin: { weight: 15, min: 10 },
    profit_growth:    { weight: 20, min: 5 },
    per:              { weight: 10, max: 15 },
    pbr:              { weight: 10, max: 1.5 },
    moat:             { weight: 10 }
  }.freeze

  def initialize(stock)
    @stock = stock
    @metrics = stock.latest_metric
  end

  def analyze
    scores = {
      roe: score_roe,
      debt_ratio: score_debt_ratio,
      operating_margin: score_operating_margin,
      profit_growth: score_profit_growth,
      per: score_per,
      pbr: score_pbr,
      moat: 5  # MVPì—ì„œëŠ” ê¸°ë³¸ê°’
    }

    total = scores.values.sum
    grade = case total
            when 80..100 then 'A'
            when 60..79  then 'B'
            when 40..59  then 'C'
            else 'D'
            end

    { total_score: total, breakdown: scores, grade: grade }
  end

  private

  def score_roe
    return 0 unless @metrics&.roe
    @metrics.roe >= 15 ? 20 : (@metrics.roe / 15.0 * 20).round
  end

  # ... ë‚˜ë¨¸ì§€ ì ìˆ˜ ê³„ì‚° ë©”ì„œë“œ
end
```

### 5.2. í”„ë¡œí•„ ê³„ì‚°ê¸°

```ruby
# app/services/profile_calculator.rb
class ProfileCalculator
  def initialize(user)
    @user = user
    @records = user.investment_records
    @surveys = user.survey_responses
  end

  def calculate
    survey_score = calculate_survey_score
    actual_score = calculate_actual_score
    biases = detect_biases(survey_score, actual_score)

    @user.investment_profile.update!(
      survey_score: survey_score,
      actual_score: actual_score,
      risk_tolerance: determine_risk_tolerance(actual_score),
      biases: biases
    )
  end

  private

  def detect_biases(survey, actual)
    biases = {}

    # ê³¼ì‰ í™•ì‹  ê°ì§€: ë†’ì€ ë³„ì  + ì†ì‹¤
    if overconfidence_detected?
      biases[:overconfidence] = true
    end

    biases
  end
end
```

### 5.3. CSV ì„í¬íŠ¸

```ruby
# app/services/csv_import_service.rb
class CsvImportService
  def initialize(user, file)
    @user = user
    @file = file
  end

  def import
    results = { success: 0, failed: 0, errors: [] }

    CSV.foreach(@file.path, headers: true) do |row|
      record = build_record(row)
      if record.save
        results[:success] += 1
      else
        results[:failed] += 1
        results[:errors] << record.errors.full_messages
      end
    end

    results
  end

  private

  def build_record(row)
    stock = Stock.find_by(symbol: row['ì¢…ëª©ì½”ë“œ'])

    @user.investment_records.build(
      stock: stock,
      action: row['êµ¬ë¶„'] == 'ë§¤ìˆ˜' ? 'buy' : 'sell',
      quantity: row['ìˆ˜ëŸ‰'].to_i,
      price: row['ë‹¨ê°€'].to_d,
      traded_at: Date.parse(row['ê±°ë˜ì¼'])
    )
  end
end
```

---

## 6. ë¼ìš°íŒ…

```ruby
# config/routes.rb
Rails.application.routes.draw do
  # ì¸ì¦
  resource :session, only: [:new, :create, :destroy]
  resource :registration, only: [:new, :create]

  # ëŒ€ì‹œë³´ë“œ
  root 'dashboard#show'
  resource :dashboard, only: [:show]

  # ì¢…ëª© ë¶„ì„
  resources :stocks, only: [:index, :show] do
    member do
      get :analyze
    end
  end

  # íˆ¬ì ê¸°ë¡
  resources :investment_records do
    collection do
      post :import  # CSV ì—…ë¡œë“œ
    end
  end

  # ì„±í–¥ ë¶„ì„
  resource :profile, only: [:show, :edit, :update]
  resources :surveys, only: [:index, :create]

  # í—¬ìŠ¤ì²´í¬
  get '/health', to: 'health#show'
end
```

---

## 7. MVP í™”ë©´ êµ¬ì„±

### 7.1. ëŒ€ì‹œë³´ë“œ (`/dashboard`)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  WiseInvest                        [ë¡œê·¸ì•„ì›ƒ]    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚  â”‚  íˆ¬ì ì„±í–¥     â”‚  â”‚  ìµœê·¼ ë¶„ì„      â”‚           â”‚
â”‚  â”‚  ë³´ìˆ˜ì  (62)   â”‚  â”‚  ì‚¼ì„±ì „ì B    â”‚            â”‚
â”‚  â”‚              â”‚  â”‚  SKí•˜ì´ë‹‰ìŠ¤ A  â”‚            â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â”‚                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  ë‚˜ì˜ íˆ¬ì ê¸°ë¡ ìš”ì•½                          â”‚ â”‚
â”‚  â”‚  ì´ 15ê±´ | ìˆ˜ìµ +12.5%                      â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 7.2. ì¢…ëª© ë¶„ì„ (`/stocks/:id`)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ì‚¼ì„±ì „ì (005930)                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                â”‚
â”‚  ë²„í• ìŠ¤íƒ€ì¼ ì ìˆ˜: 72ì  (Bë“±ê¸‰)                      â”‚
â”‚                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ ROE           15.2%    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘ 18/20â”‚   â”‚
â”‚  â”‚ ë¶€ì±„ë¹„ìœ¨        42%      â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 15/15â”‚   â”‚
â”‚  â”‚ ì˜ì—…ì´ìµë¥       12.3%    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 15/15â”‚   â”‚
â”‚  â”‚ ì´ìµ ì¦ê°€       3ë…„      â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘ 12/20â”‚   â”‚
â”‚  â”‚ PER           11.2    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘  8/10â”‚   â”‚
â”‚  â”‚ PBR           1.2     â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘  6/10â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                â”‚
â”‚  [ë‚´ ê´€ì‹¬ ë³„ì  ì£¼ê¸°] â˜…â˜…â˜…â˜†â˜†                         â”‚
â”‚                                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 7.3. íˆ¬ì ê¸°ë¡ (`/investment_records`)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  íˆ¬ì ê¸°ë¡                    [CSV ì—…ë¡œë“œ] [ì¶”ê°€]   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                â”‚
â”‚  ë‚ ì§œ       ì¢…ëª©      êµ¬ë¶„   ìˆ˜ëŸ‰   ë‹¨ê°€    ë³„ì       â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚  01/10    ì‚¼ì„±ì „ì   ë§¤ìˆ˜   10   72,000   â˜…â˜…â˜…â˜…   â”‚
â”‚  01/08    SKí•˜ì´ë‹‰ìŠ¤ ë§¤ìˆ˜    5  180,000   â˜…â˜…â˜…    â”‚
â”‚  01/05    ì¹´ì¹´ì˜¤     ë§¤ë„   20   52,000   -      â”‚  
â”‚                                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 7.4. ì„±í–¥ ë¦¬í¬íŠ¸ (`/profile`)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ë‚˜ì˜ íˆ¬ì ì„±í–¥ ë¦¬í¬íŠ¸                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚ ì„¤ë¬¸ ê¸°ë°˜ ì ìˆ˜     â”‚  â”‚ ì‹¤ì œ í–‰ë™ ì ìˆ˜      â”‚      â”‚
â”‚  â”‚      72         â”‚  â”‚      58         â”‚      â”‚
â”‚  â”‚   (ë³´ìˆ˜ì )        â”‚  â”‚   (ì¤‘ë¦½ì )       â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                                                â”‚
â”‚  âš ï¸ ë°œê²¬ëœ í¸í–¥                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ ê³¼ì‰ í™•ì‹ : ë†’ì€ ë³„ì (4-5ì )ì„ ì¤€ ì¢…ëª© ì¤‘         â”‚ â”‚
â”‚  â”‚ 3ê±´ì—ì„œ ì†ì‹¤ì´ ë°œìƒí–ˆìŠµë‹ˆë‹¤.                    â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                               â”‚
â”‚  ğŸ’¡ ì œì•ˆ: ë§¤ìˆ˜ ì „ ë²„í• ì ìˆ˜ê°€ 60ì  ë¯¸ë§Œì¸ ì¢…ëª©ì€        â”‚
â”‚     ì¬ê²€í† í•´ë³´ì„¸ìš”.                                â”‚
â”‚                                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 8. ì™¸ë¶€ API (MVP)

### 8.1. KIS Developers

| ìš©ë„ | API | ë¹„ê³  |
|------|-----|------|
| ì¢…ëª© ê²€ìƒ‰ | êµ­ë‚´ì£¼ì‹ ì¢…ëª©ê²€ìƒ‰ | ì¢…ëª©ì½”ë“œ/ëª… ê²€ìƒ‰ |
| í˜„ì¬ê°€ | êµ­ë‚´ì£¼ì‹ í˜„ì¬ê°€ | ì‹œì„¸ ì¡°íšŒ |
| ì¬ë¬´ì •ë³´ | êµ­ë‚´ì£¼ì‹ ì¬ë¬´ë¹„ìœ¨ | ROE, PER ë“± |

### 8.2. ìºì‹± ì „ëµ

```ruby
# ê°„ë‹¨í•œ ìºì‹± (Rails.cache í™œìš©)
def fetch_stock_metrics(symbol)
  Rails.cache.fetch("stock_metrics:#{symbol}", expires_in: 24.hours) do
    KisClient.new.financial_ratios(symbol)
  end
end
```

---

## 9. ê°œë°œ ìˆœì„œ

| ìˆœì„œ | ì‘ì—…                     | ì˜ˆìƒ ë‚œì´ë„ |
|:----:|------------------------|:----------:|
| 1 | Rails 8 í”„ë¡œì íŠ¸ ìƒì„± + ì¸ì¦  | ë‚®ìŒ |
| 2 | Stock, StockMetric ëª¨ë¸ + ì‹œë“œ ë°ì´í„° | ë‚®ìŒ |
| 3 | ì¢…ëª© ê²€ìƒ‰/ì¡°íšŒ í™”ë©´              | ë‚®ìŒ |
| 4 | BuffettAnalyzer ì„œë¹„ìŠ¤ êµ¬í˜„    | ì¤‘ê°„ |
| 5 | InvestmentRecord CRUD + CSV ì—…ë¡œë“œ | ì¤‘ê°„ |
| 6 | Survey + InvestmentProfile  | ì¤‘ê°„ |
| 7 | ProfileCalculator (í¸í–¥ ê°ì§€) | ì¤‘ê°„ |
| 8 | Dashboard í†µí•©               | ë‚®ìŒ |
| 9 | KIS API ì—°ë™                 | ë†’ìŒ |

---

## 10. ê¸°ìˆ  ìŠ¤íƒ ìš”ì•½

| êµ¬ë¶„ | ê¸°ìˆ  |
|------|------|
| Backend | Rails 8 |
| Frontend | Hotwire + Tailwind CSS |
| Database | PostgreSQL |
| Background | Solid Queue |
| Cache | Solid Cache |
| ë°°í¬ | Kamal 2 |
